############################################
# General
############################################
[general]
destination = "$HOME/.config/hypr/monitors.conf"
fallback_profile = "laptop_only"

############################################
# Power events (lid state)
############################################
[power_events]

[power_events.dbus_query_object]
path = "/org/freedesktop/UPower/devices/line_power_ACAD"

[[power_events.dbus_signal_match_rules]]
object_path = "/org/freedesktop/UPower/devices/line_power_ACAD"

############################################
# EXTERNAL ONLY (highest priority)
############################################
[profiles.external_monitor_only]
priority = 100
config_file = "$HOME/.config/hyprdynamicmonitors/hyprconfigs/external_monitor_only.go.tmpl"
config_file_type = "template"

[profiles.external_monitor_only.conditions]

# External monitor must be connected
[[profiles.external_monitor_only.conditions.required_monitors]]
description = "Acer Technologies KA242Y G0 251707A323W01"
monitor_tag = "monitor1"

# Laptop lid must be closed
[[profiles.external_monitor_only.conditions.required_power_states]]
lid_closed = true

############################################
# DUAL (medium priority)
############################################
[profiles.dual]
priority = 80
config_file = "$HOME/.config/hyprdynamicmonitors/hyprconfigs/dual.go.tmpl"
config_file_type = "template"

[profiles.dual.conditions]

# Laptop panel
[[profiles.dual.conditions.required_monitors]]
description = "AU Optronics 0x21ED"
monitor_tag = "monitor0"

# External monitor
[[profiles.dual.conditions.required_monitors]]
description = "Acer Technologies KA242Y G0 251707A323W01"
monitor_tag = "monitor1"

############################################
# LAPTOP ONLY (fallback)
############################################
[profiles.laptop_only]
priority = 10
config_file = "$HOME/.config/hyprdynamicmonitors/hyprconfigs/laptop_only.go.tmpl"
config_file_type = "template"

[profiles.laptop_only.conditions]

[[profiles.laptop_only.conditions.required_monitors]]
description = "AU Optronics 0x21ED"
monitor_tag = "monitor0"
